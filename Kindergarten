package hu.progmasters.quarterpractice;

public class Parent {

    private String name;
    private int age;

    public Parent(String name, int age) {
        this.name = name;
        this.age = age;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        this.age = age;
    }
}

public class Child {

    private String name;
    private int age;
    private boolean pottyTrained;
    private Parent firstParent;
    private Parent secondParent;

    public Child() {
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        this.age = age;
    }

    public boolean isPottyTrained() {
        return pottyTrained;
    }

    public void setPottyTrained(boolean pottyTrained) {
        this.pottyTrained = pottyTrained;
    }

    public Parent getFirstParent() {
        return firstParent;
    }

    public void setFirstParent(Parent firstParent) {
        this.firstParent = firstParent;
    }

    public Parent getSecondParent() {
        return secondParent;
    }

    public void setSecondParent(Parent secondParent) {
        this.secondParent = secondParent;
    }
}

public class Kindergarten {

    // 2. feladat
    public String getFamilyEquation(Child child) {
        return child.getFirstParent().getName() + " + " +
               child.getSecondParent().getName() + " = " +
               child.getName();
    }

    // 3. feladat
    public String getOlderParent(Child child) {
        Parent first = child.getFirstParent();
        Parent second = child.getSecondParent();

        if (first.getAge() > second.getAge()) {
            return first.getName() + " is older by " + (first.getAge() - second.getAge());
        } else {
            return second.getName() + " is older by " + (second.getAge() - first.getAge());
        }
    }

    // 4. feladat
    public int[] getALettersFromNames(Child child) {
        int[] result = new int[3];
        result[0] = countALetters(child.getName());
        result[1] = countALetters(child.getFirstParent().getName());
        result[2] = countALetters(child.getSecondParent().getName());
        return result;
    }

    private int countALetters(String text) {
        int count = 0;
        for (char c : text.toLowerCase().toCharArray()) {
            if (c == 'a') {
                count++;
            }
        }
        return count;
    }
}

import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;

import static org.junit.jupiter.api.Assertions.assertEquals;

public class KindergartenTest {

    private Kindergarten kindergarten;
    private Child child;

    @BeforeEach
    void initKindergarten() {
        kindergarten = new Kindergarten();
        Parent first = new Parent("Adam", 42);
        Parent second = new Parent("Eva", 32);
        child = new Child();
        child.setName("Bob");
        child.setAge(2);
        child.setPottyTrained(true);
        child.setFirstParent(first);
        child.setSecondParent(second);
    }

    // 2.
    @Test
    void testGetFamilyEquation() {
        assertEquals("Adam + Eva = Bob", kindergarten.getFamilyEquation(child));
        child.getFirstParent().setName("Bob");
        child.getSecondParent().setName("Bob");
        child.setName("Little Bob");
        assertEquals("Bob + Bob = Little Bob", kindergarten.getFamilyEquation(child));
    }

    // 3.
    @Test
    void testGetOlderParent() {
        assertEquals("Adam is older by 10", kindergarten.getOlderParent(child));
        child.getSecondParent().setAge(43);
        assertEquals("Eva is older by 1", kindergarten.getOlderParent(child));
    }

    // 4.
    @Test
    void testGetALettersFromNames() {
        int[] letters = kindergarten.getALettersFromNames(child);
        assertEquals(0, letters[0]);
        assertEquals(2, letters[1]);
        assertEquals(1, letters[2]);

        child.setName("Abraham");
        int[] letters2 = kindergarten.getALettersFromNames(child);
        assertEquals(3, letters2[0]);
    }
}
